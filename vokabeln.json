// backend.js
const fs = require('fs');
const path = require('path');

const vokabelnFilePath = path.join(__dirname, 'vokabeln.json');

// Funktion zum Lesen der Vokabeln
function readVokabeln() {
    if (!fs.existsSync(vokabelnFilePath)) {
        fs.writeFileSync(vokabelnFilePath, '[]', 'utf-8');
    }
    const data = fs.readFileSync(vokabelnFilePath, 'utf-8');
    return JSON.parse(data);
}

// Funktion zum Speichern der Vokabeln
function saveVokabeln(vokabeln) {
    fs.writeFileSync(vokabelnFilePath, JSON.stringify(vokabeln, null, 2), 'utf-8');
}

// API-Endpunkte
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        getVokabeln: () => readVokabeln(),
        addVokabel: (vokabel) => {
            const vokabeln = readVokabeln();
            vokabeln.push(vokabel);
            saveVokabeln(vokabeln);
        },
        deleteVokabel: (index) => {
            const vokabeln = readVokabeln();
            vokabeln.splice(index, 1);
            saveVokabeln(vokabeln);
        },
    };
}
